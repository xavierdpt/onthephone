<!-- vim: set ts=2 sw=2 et number: -->
<html>
<head>
<title>On the Phone again</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="https://cdn.jsdelivr.net/npm/eruda"></script>
<script>eruda.init();</script>
<style>*{box-sizing:border-box;}</style>
</head>
<body>
<script>
  const xce = e=>document.createElement(e);
  const xctn = text=>document.createTextNode(text);
  const xb = document.body;
  const xac = (p,e)=>p.appendChild(e);
  const xsa = (e,a,v)=>e.setAttribute(a,v);
  const xon = (e,evt,fn)=>e.addEventListener(evt,fn);
  const xrm = (e)=>e.parentNode.removeChild(e);
  {
    let handle=null;
    let move=false;
    const div = xce('div');
    xsa(div,'style','position:relative;background:gray');
    xon(div,'touchstart',()=>{
      handle=setTimeout(()=>{
        move=true;
        div.style.border='solid 1px black';
      },1000);
    });
    xon(div,'touchend',()=>{
        move=false;
        div.style.border='none';
        clearTimeout(handle);
    });
    const span = xce('span');
    xsa(span,'style','padding:4px;');
    xac(span,xctn('File'));
    let ndiv=null;
    xon(span,'click',()=>{
      if(move) {
        return;
      }
      if(ndiv) {
        xrm(ndiv);
      } else {
        ndiv = xce('div');
        xsa(ndiv,'style','position:absolute;background:gray');
        {
          const span = xce('span');
          xsa(span,'style','padding:4px;');
          xac(span,xctn('Preferences'));
          xac(ndiv,span);
        }
        {
          const span = xce('span');
          xsa(span,'style','padding:4px;');
          xac(span,xctn('About'));
          xac(ndiv,span);
        }
        xac(div,ndiv);
      }
    });
    xac(div,span);
    xac(xb,div);
  }
  let links = [
    {
      title:'MDN Viewport meta tag',
      url:'https://developer.mozilla.org/en-US/docs/Web/HTML/Viewport_meta_tag'
    },
    {
      title:'Vim Modeline',
      url:'https://vimdoc.sourceforge.net/htmldoc/options.html#auto-setting'
    },
    {
      title:'Crafting Interpreters',
      url:'https://craftinginterpreters.com/contents.html'
    },
    {
      title:'Metamath',
      url:'https://us.metamath.org/'
    },
    {
      title:'Metamath Book',
      url:'https://us.metamath.org/#book'
    },
    {
      title:'Coq',
      url:'https://coq.inria.fr/'
    },
    {
      title:'Isabelle',
      url:'https://isabelle.in.tum.de/'
    },
    {
      title:'WebAssembly',
      url:'https://webassembly.github.io/spec/core/bikeshed/'
    },
    {
      title:'',
      url:''
    },
    {
      title:'',
      url:''
    },
    {
      title:'',
      url:''
    },
    {
      title:'',
      url:''
    },
    {
      title:'',
      url:''
    },
  ];
  xac(document.body,xctn('Hello world'));
  const ul = xce('ul');
  for(let link of links.sort((x,y)=>x.url===y.url?0:x.url<y.url?-1:1)) {
    if(!link.url) {
      continue;
    }
    let hostname=link.url.substring('https://'.length);
    const firstSlash = hostname.indexOf('/');
    if(firstSlash != -1) {
      hostname = hostname.substring(0,firstSlash);
    }
    {
      const li = xce('li');
      li.setAttribute('style','font-weight: bold; list-style-type:none;');
      xac(li,xctn(hostname));
      xac(ul,li);
    }
    {
      const li = xce('li');
      const a = xce('a');
      a.setAttribute('href',link.url);
      a.setAttribute('target','_blank');
      xac(a,xctn(link.title));
      xac(li,a);
      xac(ul,li);
    }
  }
  xac(document.body,ul);
</script>
</body>
</html>

